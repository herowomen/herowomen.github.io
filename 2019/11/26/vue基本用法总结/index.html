<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="Hexo">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->

<meta name="keywords" content="" />


<meta name="description" content="目录：
一、vue实例的基本结构 二、vue事件处理、绑定属性 三、vue指令、自定义指令 四、vue过滤器 五、vue数据监听 六、vue组件 七、vue-router 八、axios

一、..." />


<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->

<title>
    
    vue基本用法总结 |
    
    Hexo
</title>

<link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    

<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">
    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>




    

</head>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    <header class="main-header"  style="background-image:url(
    http://snippet.shenliyang.com/img/banner.jpg)"
     >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='MSP'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
            <!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
            <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
        </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">
                        Hexo</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation" class="text-center">
                            <a href="/"><i class="fa "></i>
                                首页</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/前端/"><i class="fa "></i>
                                前端</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/java/"><i class="fa "></i>
                                java</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/jsp/"><i class="fa "></i>
                                jsp</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/archives/"><i class="fa "></i>
                                时间轴</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="vue基本用法总结">
            
            vue基本用法总结
            
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2019/11/26</span>
    </span>
    
    
</div>
        
        
    </div>
    
    <div class="post-body post-content">
        <h5 id="目录："><a href="#目录：" class="headerlink" title="目录："></a>目录：</h5><blockquote>
<p>一、vue实例的基本结构<br> 二、vue事件处理、绑定属性<br> 三、vue指令、自定义指令<br> 四、vue过滤器<br> 五、vue数据监听<br> 六、vue组件<br> 七、vue-router<br> 八、axios</p>
</blockquote>
<h5 id="一、Vue-实例的基本结构"><a href="#一、Vue-实例的基本结构" class="headerlink" title="一、Vue 实例的基本结构"></a>一、Vue 实例的基本结构</h5><p><a href="https://cn.vuejs.org/v2/api/" target="_blank" rel="noopener">Vue官网API</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> Welcome</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  el: '#app', //等价于后面的 .$mount('#app') 用其中之一就可以了</span><br><span class="line">  render: h =&gt; h(App), //理解不够深入，参考（https://cn.vuejs.org/v2/api/?#render）</span><br><span class="line">  data: &#123; </span><br><span class="line">    //页面响应的数据都放在这里如上（组件只接受 function 且必须返回一个对象），zhicvm.$data 访问这里面的data</span><br><span class="line">    msg: 'Welcome',</span><br><span class="line">  &#125;,</span><br><span class="line">  props:&#123;</span><br><span class="line">    //props 可以是数组或对象，接收任何值</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:  &#123;</span><br><span class="line">    //页面或组件定义的方法的集合，可通过 vm.reset() 直接调用</span><br><span class="line">    reset: function()&#123;</span><br><span class="line">      this.msg = '这是重新设置之后的数据'</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //计算属性(computed)与方法(methods) 类似，如果计算数据量比较大，建议放到这里</span><br><span class="line">    //计算属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算。</span><br><span class="line">    //参考（https://cn.vuejs.org/v2/api/?#computed）</span><br><span class="line">  &#125;,</span><br><span class="line">  components：&#123;</span><br><span class="line">    // 局部组件注册的地方</span><br><span class="line">    'component-a': ComponentA,</span><br><span class="line">    'component-b': ComponentB</span><br><span class="line">  &#125;,</span><br><span class="line">  directives: &#123;</span><br><span class="line">    // 局部指令注册的地方</span><br><span class="line">    focus: &#123;</span><br><span class="line">      // 指令的定义</span><br><span class="line">      inserted: function (el,binding) &#123;</span><br><span class="line">        el.focus(); </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  filters:&#123;</span><br><span class="line">    // 局部过滤器注册的地方</span><br><span class="line">  &#125;,</span><br><span class="line">  //生命周期钩子</span><br><span class="line">  beforeCreate: function ()&#123;&#125;, //在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。</span><br><span class="line">  created: function ()&#123;&#125;,//在实例创建完成后被立即调用。</span><br><span class="line">  beforeMount: function ()&#123;&#125;,//在挂载开始之前被调用：相关的 render 函数首次被调用。</span><br><span class="line">  mounted: function ()&#123;&#125;,//el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。</span><br><span class="line">  beforeUpdate: function ()&#123;&#125;,//数据更新时调用，发生在虚拟 DOM 打补丁之前。</span><br><span class="line">  updated: function ()&#123;&#125;,//由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。</span><br><span class="line">  beforeDestroy: function ()&#123;&#125;,//实例销毁之前调用。在这一步，实例仍然完全可用。</span><br><span class="line">  destroyed: function ()&#123;</span><br><span class="line">    //Vue 实例销毁后调用。</span><br><span class="line">    //调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;).$mount('#app')</span><br></pre></td></tr></table></figure>

<h5 id="二、Vue-事件处理、绑定属性"><a href="#二、Vue-事件处理、绑定属性" class="headerlink" title="二、Vue 事件处理、绑定属性"></a>二、Vue 事件处理、绑定属性</h5><p><a href="https://cn.vuejs.org/v2/api/?#v-on" target="_blank" rel="noopener">v-on：</a></p>
<blockquote>
<p>1、绑定事件监听器。用在普通元素上时，只能监听<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener"><strong>原生 DOM 事件</strong></a>（如：click、keyup/down、mouseenter/over/move/down/out 等）。也可以监听自定义事件即 methods 里面的事件。<br> 2、在监听原生 DOM 事件时，方法以事件为唯一的参数。如果使用内联语句，语句可以访问一个 $event 属性：v-on:click=”handle(‘ok’, $event)”。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">修饰符：</span><br><span class="line">.stop - 调用 event.stopPropagation()。阻止冒泡</span><br><span class="line">.prevent - 调用 event.preventDefault()。阻止默认事件</span><br><span class="line">.capture - 添加事件侦听器时使用 capture 模式。</span><br><span class="line">.<span class="keyword">self</span> - 只当事件是从侦听器绑定的元素本身触发时才触发回调。</span><br><span class="line">.&#123;keyCode | keyAlias&#125; - 只当事件是从特定键触发时才触发回调。</span><br><span class="line">.native - 监听组件根元素的原生事件。</span><br><span class="line">.once - 只触发一次回调。</span><br><span class="line">.<span class="keyword">left</span> - (<span class="number">2.2</span>.<span class="number">0</span>) 只当点击鼠标左键时触发。</span><br><span class="line">.<span class="keyword">right</span> - (<span class="number">2.2</span>.<span class="number">0</span>) 只当点击鼠标右键时触发。</span><br><span class="line">.middle - (<span class="number">2.2</span>.<span class="number">0</span>) 只当点击鼠标中键时触发。</span><br><span class="line">.passive - (<span class="number">2.3</span>.<span class="number">0</span>) 以 &#123; passive: <span class="literal">true</span> &#125; 模式添加侦听器</span><br><span class="line">用法：</span><br><span class="line">&lt;!-- 内联语句 --&gt;</span><br><span class="line">&lt;button v-on:click=<span class="string">"doThat('hello', $event)"</span>&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 缩写 --&gt;</span><br><span class="line">&lt;button @click=<span class="string">"doThis"</span>&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 停止冒泡 --&gt;</span><br><span class="line">&lt;button @click.stop=<span class="string">"doThis"</span>&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 对象语法 (<span class="number">2.4</span>.<span class="number">0</span>+) --&gt;</span><br><span class="line">&lt;button v-on=<span class="string">"&#123; mousedown: doThis, mouseup: doThat &#125;"</span>&gt;&lt;/button&gt;</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure>

<ul>
<li>v-on 还提供了<a href="https://cn.vuejs.org/v2/guide/events.html#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6" target="_blank" rel="noopener">按键修饰符</a> </li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">键盘按钮的别名</span><br><span class="line"><span class="selector-class">.enter</span></span><br><span class="line"><span class="selector-class">.tab</span></span><br><span class="line"><span class="selector-class">.delete</span> (捕获“删除”和“退格”键)</span><br><span class="line"><span class="selector-class">.esc</span></span><br><span class="line"><span class="selector-class">.space</span></span><br><span class="line"><span class="selector-class">.up</span></span><br><span class="line"><span class="selector-class">.down</span></span><br><span class="line"><span class="selector-class">.left</span></span><br><span class="line"><span class="selector-class">.right</span></span><br><span class="line">// 可以通过全局 `config.keyCodes` 对象自定义按键修饰符别名</span><br><span class="line">// 使用 方式 `v-on:keyup.f1` ，f1 这个名字你可以任意取，你知道是什么意思就可以了</span><br><span class="line">Vue.config.keyCodes.f1 = 112</span><br></pre></td></tr></table></figure>

<p><a href="https://cn.vuejs.org/v2/api/?#v-bind" target="_blank" rel="noopener">v-bind：</a></p>
<blockquote>
<p>动态地绑定一个或多个特性，或一个组件 prop 到表达式。</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 绑定一个属性 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">"imageSrc"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 缩写 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"imageSrc"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 内联字符串拼接 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"'/path/to/images/' + fileName"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- class 绑定 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"&#123; red: isRed &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[classA, classB]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[classA, &#123; classB: isB, classC: isC &#125;]"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- style 绑定 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"&#123; fontSize: size + 'px' &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"[styleObjectA, styleObjectB]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 绑定一个有属性的对象 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind</span>=<span class="string">"&#123; id: someProp, 'other-attr': otherProp &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- prop 绑定。“prop”必须在 my-component 中声明。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:prop</span>=<span class="string">"someThing"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure>

<h4 id="三、Vue-指令、自定义指令"><a href="#三、Vue-指令、自定义指令" class="headerlink" title="三、Vue 指令、自定义指令"></a>三、Vue 指令、自定义指令</h4><p><a href="https://cn.vuejs.org/v2/api/?#%E6%8C%87%E4%BB%A4" target="_blank" rel="noopener">Vue指令：</a></p>
<p>v-text：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 和下面的一样 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>v-html：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//输出真正的 HTML</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"html"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">data&#123;</span><br><span class="line">  html:'<span class="tag">&lt;<span class="name">strong</span>&gt;</span>我是真正的html<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>'</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>v-show：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据表达式之真假值，切换元素的 display CSS 属性。</span></span><br><span class="line">&lt;h1 v-show=<span class="string">"ok"</span>&gt;Hello!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>v-if、v-if-else、v-else：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//v-if 是“真正”的条件渲染，如果条件为假，dom不会渲染在页面当中</span><br><span class="line">//v-show 会一直渲染在dom当中</span><br><span class="line">//当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级。</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">"ok"</span>&gt;</span>Yes<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">"ok"</span>&gt;</span>Yes<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>No<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"type === 'A'"</span>&gt;</span>A<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'B'"</span>&gt;</span>B<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'C'"</span>&gt;</span>C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>Not A/B/C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>v-for：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//基于源数据多次渲染元素或模板块。</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"item in items"</span>&gt;</span></span><br><span class="line">  &#123;&#123; item.text &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//另外也可以为数组索引指定别名 (或者用于对象的键)：val-&gt;对象的键值  key-&gt;对象的键  index-&gt;对象的下标</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in items"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(val, key) in object"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(val, key, index) in object"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>v-model：作用于<input>、<select>、<textarea>，<br> 当v-model作用于 <strong>多个复选框</strong>、<strong>当选择按钮</strong>、<strong>选择框</strong> 时，都是把这些标签的value值赋值给v-model的变量</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">修饰符：</span><br><span class="line">.lazy - 取代 <span class="string">`input`</span> 监听 <span class="string">`change`</span> 事件</span><br><span class="line">.number- 输入字符串转为数字</span><br><span class="line">.trim- 输入首尾空格过滤</span><br><span class="line"></span><br><span class="line">&lt;input v-model=<span class="string">"message"</span> placeholder=<span class="string">"edit me"</span>&gt;</span><br><span class="line">&lt;textarea v-model=<span class="string">"message"</span> placeholder=<span class="string">"add multiple lines"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 选择框</span></span><br><span class="line">&lt;select v-model=<span class="string">"selected"</span>&gt;</span><br><span class="line">   &lt;option disabled value=<span class="string">""</span>&gt;请选择&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">   &lt;option&gt;A&lt;/</span>option&gt;</span><br><span class="line">   &lt;option&gt;B&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">   &lt;option&gt;C&lt;/</span>option&gt;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 用 v-for 渲染的动态选项：</span></span><br><span class="line"><span class="regexp">&lt;select v-model="selected"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;option v-for="option in options" v-bind:value="option.value"&gt;</span></span><br><span class="line"><span class="regexp">    &#123;&#123; option.text &#125;&#125;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>option&gt;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br><span class="line"><span class="regexp">.</span></span><br><span class="line"><span class="regexp">.</span></span><br><span class="line"><span class="regexp">.</span></span><br></pre></td></tr></table></figure>

<p>v-pre：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跳过这个元素和它的子元素的编译过程。可以用来显示原始 Mustache 标签。跳过大量没有指令的节点会加快编译。</span></span><br><span class="line"><span class="comment">//Mustache 标签：&#123;&#123; &#125;&#125;</span></span><br><span class="line">&lt;span v-pre&gt;&#123;&#123; <span class="keyword">this</span> will not be compiled &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<p>v-cloak：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个指令保持在元素上直到关联实例结束编译</span></span><br><span class="line">css:</span><br><span class="line">[v-cloak] &#123;</span><br><span class="line">  display: none;</span><br><span class="line">&#125;</span><br><span class="line">html:</span><br><span class="line">&lt;div v-cloak&gt;</span><br><span class="line">  &#123;&#123; message &#125;&#125;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>

<p>v-once：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">只渲染元素和组件一次。随后的重新渲染，元素/组件及其所有的子节点将被视为静态内容并跳过。这可以用于优化更新性能。</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 单个元素 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-once</span>&gt;</span>This will never change: &#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 有子元素 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-once</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>comment<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-once</span> <span class="attr">:comment</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- `v-for` 指令--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"i in list"</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123;i&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a href="https://cn.vuejs.org/v2/guide/custom-directive.html" target="_blank" rel="noopener">Vue自定义指令：</a></p>
<p><a href="https://cn.vuejs.org/v2/guide/custom-directive.html#%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">指令的钩子函数：</a> 一个指令定义对象可以提供如下几个钩子函数 (均为可选)：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`bind`</span>：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。</span><br><span class="line"></span><br><span class="line"><span class="string">`inserted`</span>：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。</span><br><span class="line"></span><br><span class="line"><span class="string">`update`</span>：<span class="number">1</span>、所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。</span><br><span class="line">          <span class="number">2</span>、指令的值可能发生了改变，也可能没有。</span><br><span class="line">          <span class="number">3</span>、你可以通过比较更新前后的值来忽略不必要的模板更新 (详细的钩子函数参数见下)。</span><br><span class="line"></span><br><span class="line"><span class="string">`componentUpdated`</span>：指令所在组件的 VNode 及其子 VNode 全部更新后调用。</span><br><span class="line"></span><br><span class="line"><span class="string">`unbind`</span>：只调用一次，指令与元素解绑时调用。</span><br></pre></td></tr></table></figure>

<p><a href="https://cn.vuejs.org/v2/guide/custom-directive.html#%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0" target="_blank" rel="noopener">钩子函数的参数</a> (即 el、binding、vnode 和 oldVnode)。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`el`</span>：指令所绑定的元素，可以用来直接操作 DOM 。</span><br><span class="line"></span><br><span class="line"><span class="string">`binding`</span>：一个对象，包含以下属性：</span><br><span class="line">    <span class="string">`name`</span>：指令名，不包括 <span class="string">`v-`</span> 前缀。</span><br><span class="line">    <span class="string">`value`</span>：指令的绑定值，例如：<span class="string">`v-my-directive="1 + 1"`</span> 中，绑定值为 <span class="string">`2`</span>。</span><br><span class="line">    <span class="string">`oldValue`</span>：指令绑定的前一个值，仅在 <span class="string">`update`</span> 和 <span class="string">`componentUpdated`</span> 钩子中可用。无论值是否改变都可用。</span><br><span class="line">    <span class="string">`expression`</span>：字符串形式的指令表达式。例如 <span class="string">`v-my-directive="1 + 1"`</span> 中，表达式为 <span class="string">`"1 + 1"`</span>。</span><br><span class="line">    <span class="string">`arg`</span>：传给指令的参数，可选。例如 <span class="string">`v-my-directive:foo`</span> 中，参数为 <span class="string">`"foo"`</span>。</span><br><span class="line">    <span class="string">`modifiers`</span>：一个包含修饰符的对象。例如：<span class="string">`v-my-directive.foo.bar`</span> 中，修饰符对象为 <span class="string">`&#123; foo: true, bar: true &#125;`</span>。</span><br><span class="line"></span><br><span class="line"><span class="string">`vnode`</span>：Vue 编译生成的虚拟节点。移步(<span class="symbol">https:</span>/<span class="regexp">/cn.vuejs.org/v</span>2/api/<span class="comment">#VNode%E6%8E%A5%E5%8F%A3) 来了解更多详情。</span></span><br><span class="line"></span><br><span class="line"><span class="string">`oldVnode`</span>：上一个虚拟节点，仅在 <span class="string">`update`</span> 和 <span class="string">`componentUpdated`</span> 钩子中可用。</span><br><span class="line">/<span class="regexp">/ 注册一个全局自定义指令 `v-focus`</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 在这里需要注意一下，给一个全局指令命名的时候不要加 `v-` 前缀，用在dom的时候再加上</span></span><br><span class="line"><span class="regexp">Vue.directive('focus', &#123;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 当被绑定的元素插入到 DOM 中时……</span></span><br><span class="line"><span class="regexp">  inserted: function (el,binding) &#123;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 聚焦元素</span></span><br><span class="line"><span class="regexp">    el.focus();</span></span><br><span class="line"><span class="regexp">    console.log(binding.value) /</span><span class="regexp">/=&gt;666</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/如果想注册局部指令，组件中也接受一个 directives 的选项：</span></span><br><span class="line"><span class="regexp">directives: &#123;</span></span><br><span class="line"><span class="regexp">  focus: &#123;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 指令的定义</span></span><br><span class="line"><span class="regexp">    inserted: function (el,binding) &#123;</span></span><br><span class="line"><span class="regexp">      el.focus(); </span></span><br><span class="line"><span class="regexp">      console.log(binding.value) /</span><span class="regexp">/=&gt;666</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/然后你可以在模板中任何元素上使用新的 v-focus 属性，如下：</span></span><br><span class="line"><span class="regexp">&lt;input v-focus="6666"&gt;  /</span><span class="regexp">/ 6666 可用data 里面的变量替换，建议传简单数据类型</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>一个正常的业务不可能只有一个指令，如果把所有的指令都注册在main.js里面会不好管理，所以最好放在一个统一文件 directives.js<br> 这里就产生了两个问题：<br> 1、怎么把directives.js 这个文件引用到main.js<br> 2、Vue.directives() 支不支持链式调用（因为老版本angular 支持，所以做一个假想）</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第二个问题很好解决，经过测试，Vue.directives() 不支持链式调用 `Vue.directives().directives()`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一个问题：经过查阅相关资料之后可以以插件的形式引入</span></span><br><span class="line"><span class="comment">// 这种方式引入暂时还没有发现有其他的问题</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> directives <span class="keyword">from</span> <span class="string">'./directives.js'</span></span><br><span class="line">Vue.use(directives);</span><br><span class="line"></span><br><span class="line"><span class="comment">// directives.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">  <span class="comment">// install 方法会默认在main.js里面调用</span></span><br><span class="line">  install(Vue)&#123;</span><br><span class="line">    Vue.directive(<span class="string">'focus'</span>,&#123;</span><br><span class="line">      inserted(el,binding)&#123;</span><br><span class="line">        el.focus();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    Vue.directive(<span class="string">'data'</span>,&#123;</span><br><span class="line">      inserted(el)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(el)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//有多个就继续往这里添加就好了</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="四、Vue-过滤器"><a href="#四、Vue-过滤器" class="headerlink" title="四、Vue 过滤器"></a>四、Vue 过滤器</h4><p><a href="https://cn.vuejs.org/v2/guide/filters.html" target="_blank" rel="noopener">Vue 过滤器的用法</a></p>
<blockquote>
<p>过滤器可以用在两个地方：双花括号插值和 v-bind 表达式 (后者从 2.1.0+ 开始支持)。<br> 与指令的用法类似，但过滤器一定要有返回值，也不支持链式调用</p>
</blockquote>
<blockquote>
<p><strong>这里需要注意的地方是，vue 2.0 之后移除了自带的过滤器</strong></p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在双花括号中</span></span><br><span class="line">&#123;&#123; message | capitalize &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 `v-bind` 中</span></span><br><span class="line">&lt;div v-bind:id=<span class="string">"rawId | formatId"</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 局部注册过滤器</span></span><br><span class="line">filters: &#123;</span><br><span class="line">  <span class="comment">// 首字母大写</span></span><br><span class="line">  capitalize: function (<span class="keyword">value</span>) &#123;</span><br><span class="line">    <span class="comment">// value 就是 ‘|’ 符号前面的值</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">value</span>) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">value</span> = <span class="keyword">value</span>.toString()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">value</span>.charAt(<span class="number">0</span>).toUpperCase() + <span class="keyword">value</span>.slice(<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册全局过滤器</span></span><br><span class="line">Vue.filter(<span class="string">'capitalize'</span>, function (<span class="keyword">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">value</span>) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">value</span> = <span class="keyword">value</span>.toString()</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">value</span>.charAt(<span class="number">0</span>).toUpperCase() + <span class="keyword">value</span>.slice(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 过滤器传值</span></span><br><span class="line">&#123;&#123; number | dual(<span class="number">2</span>) &#125;&#125;</span><br><span class="line"></span><br><span class="line">Vue.filter(<span class="string">'dual'</span>, function (<span class="keyword">value</span>,type) &#123;</span><br><span class="line">  <span class="comment">// 回调函数里面默认有 value ,在页面上传过来的值会依次添加在后面</span></span><br><span class="line">  console.log(type)  <span class="comment">// =&gt; 2</span></span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">value</span>) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">value</span> !== <span class="string">"number"</span>) <span class="keyword">return</span> alert(<span class="keyword">value</span> + <span class="string">' 不是数字'</span>);</span><br><span class="line">  <span class="keyword">if</span>( parseInt(type) === <span class="number">2</span> )&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">value</span> = <span class="keyword">value</span> &gt; <span class="number">10</span> ? <span class="keyword">value</span> : <span class="string">'0'</span> + <span class="keyword">value</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">value</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 过滤器的插件用法，与 directives.js 一致</span></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line">import directives <span class="keyword">from</span> <span class="string">'./filters.js'</span></span><br><span class="line">Vue.use(filters);</span><br><span class="line"></span><br><span class="line"><span class="comment">// filters.js</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">  install(Vue)&#123;</span><br><span class="line">    Vue.filter(<span class="string">'dual'</span>, function (<span class="keyword">value</span>,type) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">value</span>) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">value</span> !== <span class="string">"number"</span>) <span class="keyword">return</span> alert(<span class="keyword">value</span> + <span class="string">' 不是数字'</span>);</span><br><span class="line">      <span class="keyword">if</span>( parseInt(type) === <span class="number">2</span> )&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> = <span class="keyword">value</span> &gt; <span class="number">10</span> ? <span class="keyword">value</span> : <span class="string">'0'</span> + <span class="keyword">value</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="五、Vue-数据监听"><a href="#五、Vue-数据监听" class="headerlink" title="五、Vue 数据监听"></a>五、Vue 数据监听</h4><p><a href="https://cn.vuejs.org/v2/api/#watch" target="_blank" rel="noopener">Vue 数据监听 watch</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// watch 基本用法与注意事项</span></span><br><span class="line">data: &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  e: &#123;</span><br><span class="line">    f: &#123;</span><br><span class="line">      g: <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  items: [</span><br><span class="line">    &#123; <span class="attr">message</span>: <span class="string">'Foo'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">message</span>: <span class="string">'Bar'</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br><span class="line">mounted: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">2</span>；</span><br><span class="line">  <span class="keyword">this</span>.e.f.g = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">this</span>.$<span class="keyword">set</span>(this.items, 0, &#123; message: <span class="string">'AAA'</span> &#125;);  <span class="comment">// $set 赋值</span></span><br><span class="line">  <span class="keyword">this</span>.items[<span class="number">0</span>] = &#123; <span class="attr">message</span>: <span class="string">'AAA'</span> &#125;;  <span class="comment">// 直接赋值</span></span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">  <span class="comment">// 最简单最直接的监听方式，能监听简单的数据变化，这种方法默认就是执行 handler: function()&#123;&#125;</span></span><br><span class="line">  <span class="comment">// 注意：这种方式监听不到对象的变化</span></span><br><span class="line">  a: <span class="function"><span class="keyword">function</span>(<span class="params">val, oldVal</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(val);  <span class="comment">// =&gt; 变化之后的数据</span></span><br><span class="line">    <span class="built_in">console</span>.log(oldVal); <span class="comment">// =&gt; 变化之前的数据</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 深度监听，这里要注意一下，这样的方式打印出来两个值都是变化之后的值</span></span><br><span class="line">  <span class="comment">// deep 的值默认为false，如果不写或者deep: false 都不能监听到对象值的变化</span></span><br><span class="line">  e: &#123;</span><br><span class="line">    handler: <span class="function"><span class="keyword">function</span> (<span class="params">val, oldVal</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(val);  <span class="comment">// =&gt; 变化之后的数据</span></span><br><span class="line">      <span class="built_in">console</span>.log(oldVal);  <span class="comment">// =&gt; 变化之后的数据</span></span><br><span class="line">    &#125;,</span><br><span class="line">    deep: <span class="literal">true</span>, </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 如果要精准监听的对象值的变化，可以用这种方法</span></span><br><span class="line">  <span class="string">'e.f.g'</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val, oldVal</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(val);  <span class="comment">// =&gt; 变化之后的数据</span></span><br><span class="line">    <span class="built_in">console</span>.log(oldVal);  <span class="comment">// =&gt; 变化之前的数据</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 监听数组</span></span><br><span class="line">  <span class="comment">// 由于 JavaScript 的限制，Vue 不能检测 this.items[0] = &#123; message: 'AAA' &#125;; 这种方式赋值的变化</span></span><br><span class="line">  <span class="comment">// 所以你要用 $set、或者数组变异的方法赋值</span></span><br><span class="line">  items: <span class="function"><span class="keyword">function</span>(<span class="params">val, oldVal</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(val);  <span class="comment">// =&gt; 变化之后的数据</span></span><br><span class="line">    <span class="built_in">console</span>.log(oldVal);  <span class="comment">// =&gt; 变化之后的数据</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" target="_blank" rel="noopener">Vue 数组更新检测</a></p>
<p>官网的介绍：<strong>由于 JavaScript 的限制，Vue 不能检测以下变动的数组</strong><br> 换句话来说：<strong>这样赋值不触发视图更新</strong></p>
<ul>
<li>1、当你利用索引直接设置一个项时，例如：</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.items[indexOfItem] = newValue  <span class="comment">// indexOfItem 是指数组的index 下标</span></span><br></pre></td></tr></table></figure>

<ul>
<li>2、当你修改数组的长度时，例如：</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.items.length = newLength</span><br></pre></td></tr></table></figure>

<p>要解决上面问题，你可以用以下方式解决：</p>
<h6 id="1、Vue-set-target-key-value-，set方法有下面3个参数"><a href="#1、Vue-set-target-key-value-，set方法有下面3个参数" class="headerlink" title="1、Vue.set( target, key, value) ，set方法有下面3个参数"></a>1、<a href="https://cn.vuejs.org/v2/api/#Vue-set" target="_blank" rel="noopener">Vue.set( target, key, value)</a> ，set方法有下面3个参数</h6><ul>
<li>{Object | Array} target  – 给谁设置值（对象，数组）都可以</li>
<li>{string | number} key – 给对象设值，key 就是对象的key，给数组设值，key 就是数组的下标 index</li>
<li>{any} value – 添加任何值都可以</li>
</ul>
<h6 id="2、数组变异的方式"><a href="#2、数组变异的方式" class="headerlink" title="2、数组变异的方式"></a>2、数组变异的方式</h6><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank" rel="noopener">push()</a>：将一个或多个元素添加到数组的末尾，并返回新数组的长度。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/pop" target="_blank" rel="noopener">pop()</a>：从数组中删除最后一个元素，并返回该元素的值。此方法更改数组的长度。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" target="_blank" rel="noopener">shift()</a>：从数组中删除第一个元素，并返回该元素的值。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift" target="_blank" rel="noopener">unshift()</a>：将一个或多个元素添加到数组的开头，并返回新数组的长度。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="noopener">splice()</a>：通过删除现有元素和/或添加新元素来更改一个数组的内容。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="noopener">sort()</a>：用<a href="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability" target="_blank" rel="noopener">就地（ in-place ）的算法</a>对数组的元素进行排序，并返回数组。 sort 排序不一定是<a href="https://zh.wikipedia.org/wiki/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95#.E7.A9.A9.E5.AE.9A.E6.80.A7" target="_blank" rel="noopener">稳定的</a>。默认排序顺序是根据字符串Unicode码点。<br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse" target="_blank" rel="noopener">reverse()</a>：将数组中元素的位置颠倒。</p>
<h4 id="六、Vue-组件"><a href="#六、Vue-组件" class="headerlink" title="六、Vue 组件"></a>六、Vue 组件</h4><p><a href="https://cn.vuejs.org/v2/guide/components.html" target="_blank" rel="noopener">Vue 组件基础</a></p>
<blockquote>
<p>组件是可复用的 Vue 实例，所以它们与 new Vue 接收相同的选项，例如 data、computed、watch、methods 以及生命周期钩子等。<br> 注意：<strong>组件没有 el 这样根实例特有的选项；而根实例没有 props 这个子组件特有的属性</strong></p>
</blockquote>
<ul>
<li>Vue.component( 组件名 ,{ 选项 }) 全局注册</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局注册组件的时候必须写在Vue实例创建之前</span></span><br><span class="line"><span class="comment">// 下面这几种方式是等价的</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">var</span> MyComponent = Vue.extend(&#123;</span><br><span class="line">  template:<span class="string">"&lt;h1&gt;我是全局组件&lt;/h1&gt;"</span></span><br><span class="line">&#125;);</span><br><span class="line">Vue.component(<span class="string">"my-component"</span>,MyComponent);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册组件，传入一个扩展过的构造器</span></span><br><span class="line">Vue.component(<span class="string">'my-component'</span>, Vue.extend(&#123; <span class="comment">/* ... */</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册组件，传入一个选项对象 (自动调用 Vue.extend)</span></span><br><span class="line">Vue.component(<span class="string">'my-component'</span>, &#123; <span class="comment">/* ... */</span> &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>通常情况下一个组件肯定是由很多html标签组成的，如果全部写在template 里会非常难看且没有语法高亮提示，有没有其他解决办法？还真有</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 一个定义模板的方式是在一个 <span class="tag">&lt;<span class="name">script</span>&gt;</span> 元素中，并为其带上 text/x-template 的类型，然后通过一个 id 将模板引用过去。</span><br><span class="line"><span class="handlebars"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-template"</span> <span class="attr">id</span>=<span class="string">"hello-world-template"</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello hello hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// 另一个定义模板的方式是在一个 <span class="tag">&lt;<span class="name">template</span>&gt;</span> 元素中，通过一个 id 将模板引用过去；在单文件组件 .vue 当中，id可以省略；</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"hello-world-template"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello hello hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">Vue.component("my-component",&#123;</span><br><span class="line">    template:"#hello-world-template"</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>引入外部单文件组件注册成全局组件</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .vue </span></span><br><span class="line"><span class="comment">// 在单文件组件中 template 标签下只能有一个根元素</span></span><br><span class="line"><span class="comment">// 如果硬要有多个根元素，你只能在多个根元素中添加 v-if、v-else-if、v-else 来判断什么时候用哪个根元素</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"home"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;getting&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">  &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这样是不行的<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span> --&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  export default &#123;</span></span><br><span class="line"><span class="regexp">    name: "home",  /</span><span class="regexp">/ 便于在vue-devtools 调试中提供更加友好的警告信息</span></span><br><span class="line"><span class="regexp">    data: function () &#123;</span></span><br><span class="line"><span class="regexp">      return &#123;</span></span><br><span class="line"><span class="regexp">        getting: 'welcome'</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"><span class="comment">// 局部css样式</span></span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ main.js</span></span><br><span class="line"><span class="regexp">import home from './</span>components/home/home<span class="string">'</span></span><br><span class="line"><span class="string">Vue.component('</span>home<span class="string">',home);</span></span><br></pre></td></tr></table></figure>

<ul>
<li>局部注册组件</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每个vue 实例都会有一个 components 的选项，而组件是可复用的 Vue 实例，所以每个组件都有components 选项</span></span><br><span class="line"><span class="comment">// 引入外部文件注册成局部组件</span></span><br><span class="line"><span class="keyword">import</span> home <span class="keyword">from</span> <span class="string">'./components/home/home'</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el:<span class="string">"#app"</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    home, <span class="comment">// 等价于home: home，ES6对象中属性的简洁表示，ES6(http://es6.ruanyifeng.com/#docs/object)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 直接在components 选项中写，(不推荐这种用法)</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el:<span class="string">"#app"</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    loading: &#123;</span><br><span class="line">      data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          getting: <span class="string">'welcome'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      components:&#123;</span><br><span class="line">       <span class="comment">// 这里还可以嵌套局部组件... </span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><h6 id="组件间的传值"><a href="#组件间的传值" class="headerlink" title="组件间的传值"></a>组件间的传值</h6></li>
</ul>
<p><a href="https://cn.vuejs.org/v2/guide/components-props.html" target="_blank" rel="noopener">通过 Prop 向子组件传递数据</a></p>
<ul>
<li>注意：这种传值方式是<a href="https://cn.vuejs.org/v2/guide/components-props.html#%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81" target="_blank" rel="noopener">单向数据流</a>，不可逆。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 中的特性名是大小写不敏感的，所以浏览器会把所有大写字符解释为小写字符。</span></span><br><span class="line"><span class="comment">// 这意味着当你使用 DOM 中的模板时，驼峰命名法的 prop 名需要使用其等价的 短横线分隔命名命名。</span></span><br><span class="line"><span class="comment">// 如果使用字符串模板，那么这个限制就不存在了。</span></span><br><span class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</span><br><span class="line">  props: [<span class="string">'myTitle'</span>],</span><br><span class="line">  template: <span class="string">'&lt;h3&gt;&#123;&#123; myTitle&#125;&#125;&lt;/h3&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML</span></span><br><span class="line">&lt;my-component my-title=<span class="string">'hello world'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 上述例子只是一个静态数据传输，如果你要动态传输数据，可以用 v-bind 绑定一个属性</span></span><br><span class="line"><span class="comment">// 也可以用v-bind 的缩写形式</span></span><br><span class="line">&lt;my-component v-bind:my-title=<span class="string">'hello world'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span> </span><br><span class="line"><span class="comment">// 任何类型的值都可以传递给 prop，prop 允许很多个</span></span><br><span class="line"><span class="comment">// 如果你想要将一个对象的所有属性都作为 prop 传入，你可以使用不带参数的 v-bind，如：</span></span><br><span class="line">obj: &#123;</span><br><span class="line">  id: <span class="number">1</span>,</span><br><span class="line">  title: <span class="string">'Hello World'</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;my-component v-bind=<span class="string">'obj'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 等价于：</span></span><br><span class="line">&lt;my-component </span><br><span class="line">  v-bind:id=<span class="string">'obj.id'</span></span><br><span class="line">  v-bind:title=<span class="string">'obj.title'</span></span><br><span class="line">&gt;<span class="xml"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><a href="https://cn.vuejs.org/v2/guide/components-props.html#Prop-%E9%AA%8C%E8%AF%81" target="_blank" rel="noopener">Prop 还提供验证的方式指定传什么值</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&apos;my-component&apos;, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    // 基础的类型检查 (`null` 匹配任何类型)</span><br><span class="line">    propA: Number,</span><br><span class="line">    // 多个可能的类型</span><br><span class="line">    propB: [String, Number],</span><br><span class="line">    // 必填的字符串</span><br><span class="line">    propC: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    // 带有默认值的数字</span><br><span class="line">    propD: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 100</span><br><span class="line">    &#125;,</span><br><span class="line">    // 带有默认值的对象</span><br><span class="line">    propE: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      // 对象或数组且一定会从一个工厂函数返回默认值</span><br><span class="line">      default: function () &#123;</span><br><span class="line">        return &#123; message: &apos;hello&apos; &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 自定义验证函数</span><br><span class="line">    propF: &#123;</span><br><span class="line">      validator: function (value) &#123;</span><br><span class="line">        // 这个值必须匹配下列字符串中的一个</span><br><span class="line">        return [&apos;success&apos;, &apos;warning&apos;, &apos;danger&apos;].indexOf(value) !== -1</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>既然 prop 的单向的，那如果子组件向父组件传值怎么办？</p>
<ul>
<li>子传父，使用 <a href="https://cn.vuejs.org/v2/guide/components-custom-events.html" target="_blank" rel="noopener">自定义事件</a> 的方式</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件,子组件可以通过$emit() 广播一个事件给父组件</span></span><br><span class="line"><span class="comment">// 命名的这个事件名没有限制，子组件与父组件的名字保持一致就可以了</span></span><br><span class="line">&lt;button v-<span class="keyword">on</span>:click=<span class="string">"$emit('broadcast')"</span>&gt;向父组件广播这个事件&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// $emit() 这个方法也可以写在 子组件的 methods 里面</span></span><br><span class="line">&lt;button v-<span class="keyword">on</span>:click=<span class="string">"broadcast"</span>&gt;向父组件广播这个事件&lt;/button&gt;</span><br><span class="line">methods: &#123;</span><br><span class="line">  broadcast()&#123;</span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">'broadcast'</span>)</span><br><span class="line">    <span class="comment">// 如果要传值，就使用$emit(事件名, 值) 的第二个参数</span></span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">'broadcast'</span>, <span class="keyword">value</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 在父组件中，父组件可以用 v-on 监听子组件触发的 `broadcast` 事件，类似监听Dom 事件一样的用法</span></span><br><span class="line">&lt;my-component v-<span class="keyword">on</span>:broadcast=<span class="string">'catchYou'</span>&gt;&lt;/my-component&gt;</span><br><span class="line">methods: &#123;</span><br><span class="line">  catchYou(val)&#123;</span><br><span class="line">    <span class="comment">// 子组件传过来的值就会作为第一个参数传入这个方法 </span></span><br><span class="line">    console.log(val)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 在组件的表达式里面，你可以通过$event 访问到子组件传递过来的值</span></span><br><span class="line">&lt;my-component v-<span class="keyword">on</span>:broadcast=<span class="string">'$event'</span>&gt;&lt;/my-component&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>组件的一些其他用法，感兴趣可以去了解 <a href="https://cn.vuejs.org/v2/guide/components-slots.html" target="_blank" rel="noopener">插槽</a>   <a href="https://cn.vuejs.org/v2/guide/components-dynamic-async.html" target="_blank" rel="noopener">动态组件 &amp; 异步组件</a> </li>
<li><a href="https://cn.vuejs.org/v2/guide/transitions.html#%E5%8D%95%E5%85%83%E7%B4%A0-%E7%BB%84%E4%BB%B6%E7%9A%84%E8%BF%87%E6%B8%A1" target="_blank" rel="noopener">单元素/组件的过渡</a></li>
</ul>
<h4 id="七、vue-router"><a href="#七、vue-router" class="headerlink" title="七、vue-router"></a>七、vue-router</h4><ul>
<li>贴一段 app 构建的案例。官网API <a href="https://router.vuejs.org/zh-cn/essentials/getting-started.html" target="_blank" rel="noopener">点这里</a> </li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这里我让 app.vue作为最大的渲染层，渲染tabs --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 这里我模拟的是一个商场app，下面几个tab；点击`tab`直接渲染在`tabs`的&lt;router-view&gt;&lt;/router-view&gt;上 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- tabs 之外的页面直接渲染在app.vue 的&lt;router-view&gt;&lt;/router-view&gt;上 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  app.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- tabs.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tabs"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">"nav-link"</span> <span class="attr">to</span>=<span class="string">"home"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">// 以下一些配置是简单要用到的，高级的用法请看官网</span><br><span class="line">// router.js</span><br><span class="line">import tabs from './components/tabs/tabs'</span><br><span class="line">import home from './components/home/home'</span><br><span class="line">const router =  new VueRouter(&#123;</span><br><span class="line">  mode: 'history',  // 可选值: "hash" 、 "history" 、 "abstract" </span><br><span class="line">  linkActiveClass: 'active',  // 默认值: "router-link-active" 全局配置 <span class="tag">&lt;<span class="name">router-link</span>&gt;</span> 的默认『激活 class 类名』</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: "/tabs",    // 指向的路径</span><br><span class="line">      name: "tabs",   // 命名路由，可以通过这个名称跳转到这个组件</span><br><span class="line">      component: tabs, // 指向路径加载的组件</span><br><span class="line">      children: [  // 嵌套路由也有跟父级一样的选项</span><br><span class="line">        &#123;</span><br><span class="line">          path:"home",</span><br><span class="line">          name: "home",</span><br><span class="line">          component: home, </span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: '/',</span><br><span class="line">      redirect: '/tabs/home'   // 重定向，即无目标地址的时候转到这个路径</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br><span class="line">export default router;</span><br><span class="line">// main.js</span><br><span class="line">import router from './router.js'</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: h =&gt; h(App)</span><br><span class="line">&#125;).$mount('#app');</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://router.vuejs.org/zh/api/#router-link" target="_blank" rel="noopener">router-link</a> 的几种跳转方式</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 字符串模式，可以说是静态模式，不用v-bind --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"home"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 下面几种是动态模式 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 使用 v-bind 的 JS 表达式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">v-bind:to</span>=<span class="string">"'home'"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 不写 v-bind 也可以，就像绑定别的属性一样 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"'home'"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 同上 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; path: 'home' &#125;"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 跳转到命名的路由 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 这里有需要注意的地方是，如果路由有传值，那这里的params 就不能省略--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; name: 'user' , params: &#123; userId &#125;&#125;"</span>&gt;</span>User<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>router 传值的几种方式<br> <strong>注意：如果提供了 path，params 会被忽略，取而代之的是提供路由的 name 或手写完整的带有参数的 path，同样的规则也适用于 router-link 组件的 to 属性</strong> </li>
<li>另外的传参方式，有兴趣可以了解一下 <a href="https://router.vuejs.org/zh/guide/essentials/passing-props.html#%E5%B8%83%E5%B0%94%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener">props</a> </li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在函数里面</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; name: <span class="string">'user'</span>, params: &#123; userId &#125;&#125;)</span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; path: `/user/$&#123;userId&#125;` &#125;)  <span class="comment">// `$&#123; &#125;` 是ES6 的模板字符串概念，标识符是 ` `</span></span><br><span class="line"><span class="comment">// 这里的 params 不生效</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; path: <span class="string">'/user'</span>, params: &#123; userId &#125;&#125;)</span><br><span class="line"><span class="comment">// router-link 传值</span></span><br><span class="line">&lt;router-link :to=<span class="string">"&#123; name: 'user',params: &#123; userId &#125; &#125;"</span>&gt;User&lt;/router-link&gt;</span><br><span class="line">&lt;router-link :to=<span class="string">"&#123; path: `/user/<span class="subst">$&#123;userId&#125;</span>` &#125;"</span>&gt;User&lt;/router-link&gt;</span><br><span class="line"><span class="comment">// 这里的 params 不生效</span></span><br><span class="line">&lt;router-link :to=<span class="string">"&#123; path: '/user', params: &#123; userId &#125;&#125;"</span>&gt;User&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>目标组件取值<br> <strong>这里要很小心，是 this.$route，不是 this.$router，没有 r 的</strong> </li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用这种方式获取路由传过来的值</span></span><br><span class="line"><span class="keyword">this</span>.$route.<span class="keyword">params</span>.userId</span><br></pre></td></tr></table></figure>

<ul>
<li>路由的命名视图，这里贴的是官网的例子，官网API <a href="https://router.vuejs.org/zh/guide/essentials/named-views.html#%E5%B5%8C%E5%A5%97%E5%91%BD%E5%90%8D%E8%A7%86%E5%9B%BE" target="_blank" rel="noopener">点这里</a> </li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">"view one"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">"view two"</span> <span class="attr">name</span>=<span class="string">"a"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">"view three"</span> <span class="attr">name</span>=<span class="string">"b"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">// js</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: '/',</span><br><span class="line">      components: &#123; // 这里的 `components` 要跟上面的 `component` 区分一下，有多个视图渲染的时候有 `s`，别漏了</span><br><span class="line">        default: Foo,  // 这是默认指定的 Foo 这个组件，也就是在没有命名的<span class="tag">&lt;<span class="name">router-view</span>&gt;</span>上渲染</span><br><span class="line">        a: Bar,  // 这里一一对应有 name 属性的<span class="tag">&lt;<span class="name">router-view</span>&gt;</span>就可以了</span><br><span class="line">        b: Baz</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>几种导航的方法，官网 <a href="https://router.vuejs.org/zh/guide/essentials/navigation.html" target="_blank" rel="noopener">点这里</a><br> 下面几种方法跟 window.history 的几种方法很像，其实就是仿照 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History" target="_blank" rel="noopener">window.history</a> </li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 往路由历史新增一条记录，相关参数参考官网</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(location, onComplete?, onAbort?)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换掉当前的记录</span></span><br><span class="line"><span class="keyword">this</span>.$router.replace(location, onComplete?, onAbort?)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在浏览器记录中前进一步，等同于 this.$router.forward()</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">this</span>.$router.forward()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后退一步记录，等同于 this.$router.back()</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">this</span>.$router.back()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前进 3 步记录</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果 history 记录不够用，那就默默地失败呗</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(-<span class="number">100</span>)</span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>路由跳转的时候支持过度动效，感兴趣可以去玩一下，官网 <a href="https://router.vuejs.org/zh/guide/advanced/transitions.html#%E5%8D%95%E4%B8%AA%E8%B7%AF%E7%94%B1%E7%9A%84%E8%BF%87%E6%B8%A1" target="_blank" rel="noopener">点这里</a> （还有其他更加高级的用法要靠自己去<a href="https://router.vuejs.org/zh/guide/advanced/scroll-behavior.html" target="_blank" rel="noopener">查阅</a>了）</li>
</ul>
<h4 id="八、axios"><a href="#八、axios" class="headerlink" title="八、axios"></a>八、axios</h4><p><a href="https://www.npmjs.com/package/axios" target="_blank" rel="noopener">axios 英文文档</a><br> <a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">axios 中文文档 — 对英文文档的翻译</a><br> <strong>axios 是基于 ES6 的 Promise 写的，具体可以看</strong> <a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">Promise 相关说明</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm 安装</span></span><br><span class="line">npm i axiso  <span class="comment">// 等价于 npm install axios ，i 是 install 的简写</span></span><br></pre></td></tr></table></figure>

<p><strong>axios 的一些简单用法</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GET 请求</span></span><br><span class="line"><span class="comment">// 为给定 ID 的 user 创建请求</span></span><br><span class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面的请求可以这样做</span></span><br><span class="line">axios.get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: <span class="number">12345</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// POST 请求</span></span><br><span class="line">axios.post(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">//  执行多个并发请求</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserAccount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserPermissions</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345/permissions'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这两个方法返回的都是 Promise 对象，这两个请求方法都成功返回的时候，下面方法才返回成功。</span></span><br><span class="line"><span class="comment">// 这两个方法中有一个返回不成功就算返回失败 </span></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .then(axios.spread(<span class="function"><span class="keyword">function</span> (<span class="params">acct, perms</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 两个请求现在都执行完成</span></span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure>

<p><strong>通过向 axios 传递相关配置来创建请求</strong></p>
<ul>
<li>axios(config)</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发送 POST 请求</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'post'</span>,</span><br><span class="line">  url: <span class="string">'/user/12345'</span>,</span><br><span class="line">  <span class="keyword">data</span>: &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>axios(url[, config])</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发送 GET 请求（默认的方法）</span></span><br><span class="line">axios(<span class="string">'/user/12345'</span>);</span><br></pre></td></tr></table></figure>

<p><strong>为方便，axios 还为支持的请求方法提供了别名，如：</strong><br> <em>注意：在使用别名方法时， url、method、data 这些属性都不必在配置中指定。</em></p>
<ul>
<li>axios.request(config)</li>
<li>axios.get(url[, config])</li>
<li>axios.delete(url[, config])</li>
<li>axios.head(url[, config])</li>
<li>axios.post(url[, data[, config]])</li>
<li>axios.put(url[, data[, config]])</li>
<li>axios.patch(url[, data[, config]])</li>
</ul>
<p><strong>处理并发请求的助手函数</strong></p>
<ul>
<li>axios.all(iterable)</li>
<li>axios.spread(callback)</li>
</ul>
<p><strong>还有其他高级用法，具体请查阅官网</strong> <a href="https://www.npmjs.com/package/axios" target="_blank" rel="noopener">axios 英文文档</a></p>

    </div>
    
    <div class="post-footer">
        <div>
            
            转载声明：
            商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Snippet</a>
            
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    <a href="/2019/11/26/bootstrap/" class="pre-post btn btn-default" title='bootstrap'>
        <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
        <span class="hidden-xs">
            bootstrap</span>
    </a>
    
    
    <a href="/2019/10/24/java%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1%E6%80%BB%E7%BB%93/" class="next-post btn btn-default" title='java面对对象总结'>
        <span class="hidden-lg">下一篇</span>
        <span class="hidden-xs">
            java面对对象总结</span><i class="fa fa-angle-right fa-fw"></i>
    </a>
    
</div>

<div id="comments">
    

<div id="vcomments" class="valine"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>
<script>
new Valine({
    av: AV,
    el: '#vcomments',
    appId: 'xOKV9J4UeQAtVkvnJC7Kq2Jn-gzGzoHsz',
    appKey: 'erIpQac4azoCmgfBB7Dl9maa',
    placeholder: '说点什么吧',
    notify: false,
    verify: true,
    avatar: 'mm',
    meta: 'nick,mail'.split(','),
    pageSize: '10',
    path: window.location.pathname,
    lang: 'zh-CN'.toLowerCase()
})
</script>


</div>

                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#目录："><span class="toc-text">目录：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#一、Vue-实例的基本结构"><span class="toc-text">一、Vue 实例的基本结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#二、Vue-事件处理、绑定属性"><span class="toc-text">二、Vue 事件处理、绑定属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三、Vue-指令、自定义指令"><span class="toc-text">三、Vue 指令、自定义指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#四、Vue-过滤器"><span class="toc-text">四、Vue 过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#五、Vue-数据监听"><span class="toc-text">五、Vue 数据监听</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1、Vue-set-target-key-value-，set方法有下面3个参数"><span class="toc-text">1、Vue.set( target, key, value) ，set方法有下面3个参数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2、数组变异的方式"><span class="toc-text">2、数组变异的方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#六、Vue-组件"><span class="toc-text">六、Vue 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#组件间的传值"><span class="toc-text">组件间的传值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#七、vue-router"><span class="toc-text">七、vue-router</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#八、axios"><span class="toc-text">八、axios</span></a>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2017
                    
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script src="/js/app.js?rev=@@hash"></script>
</body>
</html>